@{
    Layout = null;
    var canEdit = Convert.ToBoolean(ViewBag.CanWrite);
    bool isSelfHosted = ServerAppConfig.IsSelfHosted;
    var dashboardServerResourceUrl = _globalAppSettings.SystemSettings.CDNLink.TrimEnd('/');
}

<body ng-app="serverApp" id="body" style="overflow: hidden; position: static; margin: 0; padding: 0; height: 100%; width: 100%">
    <div id="dataAlert" style="width:100%;height:100%"></div>

    @if (isSelfHosted)
    {
        <environment include="Development,CloudDevelopment">
            <link rel="stylesheet" asp-append-version="true" href="@ServerAppConfig.CustomFontUrl(_globalAppSettings?.SystemSettings?.FontPreference, dashboardServerResourceUrl)" />
        </environment>
        <environment exclude="Development,CloudDevelopment">
            <link rel="stylesheet" asp-append-version="true" href="@ServerAppConfig.CustomFontUrl(_globalAppSettings?.SystemSettings?.FontPreference, dashboardServerResourceUrl)" />
        </environment>
    }

    <style>
        :root {
            --designer-font: var(--font-family) !important;
        }
    </style>
</body>

<script>
        var sharedDataSources = @Html.Raw(ViewBag.SharedDatasources);
        var itemId = "@ViewBag.ItemId";
        var version = "@ViewBag.Version";
        var designerToken = "@ViewBag.AccessToken";
        var canEdit = @Json.Serialize(canEdit);
</script>